// <auto-generated />
using System;
using ControleMateriaisApi.Repository.Context;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace ControleMateriaisApi.Migrations
{
    [DbContext(typeof(AplicationContext))]
    [Migration("20230416174642_nova-02")]
    partial class nova02
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "6.0.7")
                .HasAnnotation("Relational:MaxIdentifierLength", 64);

            modelBuilder.Entity("ControleMateriaisApi.Domain.ItemOrdemServico", b =>
                {
                    b.Property<int?>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_item_ordem_servico");

                    b.Property<DateTime>("DataCadastro")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("data_cadastro");

                    b.Property<int?>("IdMaterial")
                        .HasColumnType("int")
                        .HasColumnName("id_material");

                    b.Property<int?>("IdOs")
                        .HasColumnType("int")
                        .HasColumnName("id_ordem_servico");

                    b.Property<int>("Quantidade")
                        .HasColumnType("int")
                        .HasColumnName("quantidade");

                    b.HasKey("Id");

                    b.HasIndex("IdMaterial");

                    b.HasIndex("IdOs");

                    b.ToTable("item_ordem_servico", (string)null);
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.Material", b =>
                {
                    b.Property<int?>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_material");

                    b.Property<DateTime>("DataCadastro")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("data_cadastro");

                    b.Property<string>("Nome")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("nome");

                    b.Property<string>("UnidadeMedida")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("unidade_medida");

                    b.HasKey("Id");

                    b.HasIndex("Nome");

                    b.HasIndex("UnidadeMedida");

                    b.ToTable("materiais", (string)null);
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.OrdemServico", b =>
                {
                    b.Property<int?>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_os");

                    b.Property<string>("Bairro")
                        .HasColumnType("longtext")
                        .HasColumnName("bairro");

                    b.Property<string>("Cep")
                        .HasColumnType("longtext")
                        .HasColumnName("cep");

                    b.Property<string>("Cidade")
                        .HasColumnType("longtext")
                        .HasColumnName("cidade");

                    b.Property<string>("Complemento")
                        .HasColumnType("longtext")
                        .HasColumnName("complemento");

                    b.Property<DateTime>("DataCadastro")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("data_cadastro");

                    b.Property<int>("IdPolo")
                        .HasColumnType("int")
                        .HasColumnName("id_polo");

                    b.Property<int?>("IdUsuario")
                        .HasColumnType("int");

                    b.Property<string>("Logradouro")
                        .HasColumnType("longtext");

                    b.Property<int>("Numero")
                        .HasColumnType("int")
                        .HasColumnName("numero");

                    b.Property<int>("TipoOrdemDeServico")
                        .HasColumnType("int")
                        .HasColumnName("tipo_ordem_servico");

                    b.HasKey("Id");

                    b.HasIndex("IdPolo");

                    b.HasIndex("IdUsuario");

                    b.ToTable("ordens_servico", (string)null);
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.Polo", b =>
                {
                    b.Property<int?>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_polo");

                    b.Property<string>("Bairro")
                        .HasColumnType("longtext")
                        .HasColumnName("bairro");

                    b.Property<string>("Cep")
                        .HasColumnType("longtext")
                        .HasColumnName("cep");

                    b.Property<string>("Cidade")
                        .HasColumnType("longtext")
                        .HasColumnName("cidade");

                    b.Property<DateTime>("DataCadastro")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("data_cadastro");

                    b.Property<string>("Logradouro")
                        .HasColumnType("longtext")
                        .HasColumnName("logradouro");

                    b.Property<string>("NomePolo")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("nome_polo");

                    b.Property<int>("Numero")
                        .HasColumnType("int")
                        .HasColumnName("numero");

                    b.Property<string>("Uf")
                        .HasColumnType("longtext");

                    b.HasKey("Id");

                    b.HasIndex("NomePolo");

                    b.ToTable("polos", (string)null);
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.Usuario", b =>
                {
                    b.Property<int?>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasColumnName("id_usuario");

                    b.Property<int?>("CodigoRecuperarSenha")
                        .HasColumnType("int")
                        .HasColumnName("codigo_senha");

                    b.Property<DateTime>("DataCadastro")
                        .HasColumnType("datetime(6)")
                        .HasColumnName("data_cadastro");

                    b.Property<string>("Email")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("email");

                    b.Property<string>("Nome")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("nome");

                    b.Property<int?>("Perfil")
                        .HasColumnType("int")
                        .HasColumnName("perfil");

                    b.Property<string>("Senha")
                        .HasColumnType("varchar(255)")
                        .HasColumnName("senha");

                    b.HasKey("Id");

                    b.HasIndex("CodigoRecuperarSenha");

                    b.HasIndex("Email");

                    b.HasIndex("Nome");

                    b.HasIndex("Senha");

                    b.HasIndex("Senha", "Email");

                    b.ToTable("usuarios", (string)null);
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.ItemOrdemServico", b =>
                {
                    b.HasOne("ControleMateriaisApi.Domain.Material", "Material")
                        .WithMany()
                        .HasForeignKey("IdMaterial");

                    b.HasOne("ControleMateriaisApi.Domain.OrdemServico", "OrdemServico")
                        .WithMany("ItensOrdemServico")
                        .HasForeignKey("IdOs");

                    b.Navigation("Material");

                    b.Navigation("OrdemServico");
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.OrdemServico", b =>
                {
                    b.HasOne("ControleMateriaisApi.Domain.Polo", "Polo")
                        .WithMany("OrdensDeServicos")
                        .HasForeignKey("IdPolo")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("ControleMateriaisApi.Domain.Usuario", "Usuario")
                        .WithMany()
                        .HasForeignKey("IdUsuario");

                    b.Navigation("Polo");

                    b.Navigation("Usuario");
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.OrdemServico", b =>
                {
                    b.Navigation("ItensOrdemServico");
                });

            modelBuilder.Entity("ControleMateriaisApi.Domain.Polo", b =>
                {
                    b.Navigation("OrdensDeServicos");
                });
#pragma warning restore 612, 618
        }
    }
}
